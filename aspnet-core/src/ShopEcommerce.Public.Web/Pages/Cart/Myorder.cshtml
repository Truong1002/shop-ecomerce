@page "/my-order.html"
@using ShopEcommerce.Orders
@model ShopEcommerce.Public.Web.Pages.Cart.MyorderModel

<section class="section-box shop-template mt-30">
    <div class="container box-account-template">
        <h3>Đơn hàng của bạn</h3>
        <div class="box-tabs mb-100">
            <ul class="nav nav-tabs nav-tabs-account" role="tablist">
                <li><a class="active" href="#tab-orders" data-bs-toggle="tab" role="tab" aria-controls="tab-orders" aria-selected="true">Orders</a></li>
            </ul>
            <div class="border-bottom mt-20 mb-40"></div>
            <div class="tab-content mt-30">
                <div class="tab-pane fade active show" id="tab-orders" role="tabpanel" aria-labelledby="tab-orders">
                    @foreach (var order in Model.Orders)
                    {
                        var statusClass = order.Status switch
                        {
                            OrderStatus.New => "status-new",
                            OrderStatus.Confirmed => "status-confirmed",
                            OrderStatus.Canceled => "status-canceled",
                            _ => "status-unknown"
                        };

                        <div class="box-orders">
                            <div class="head-orders">
                                <div class="head-left">
                                    <h5 class="mr-20">Order ID: @order.Code</h5>
                                    <span class="font-md color-brand-3 mr-20">
                                        Date: @order.OrderDate.ToString("dd/MM/yyyy HH:mm")
                                    </span>
                                    <span class="@statusClass">@GetOrderStatusText(order.Status)</span>
                                </div>
                                <div class="head-right">
                                    @if (order.Status == OrderStatus.New)
                                    {
                                        <form method="post" asp-page-handler="CancelOrder">
                                            <input type="hidden" name="OrderId" value="@order.Id" />
                                            <button type="submit" class="btn btn-danger btn-sm">Hủy đơn hàng</button>
                                        </form>
                                    }
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</section>

@functions {
    private string GetOrderStatusText(OrderStatus status)
    {
        switch (status)
        {
            case OrderStatus.New:
                return "Chờ xác nhận";
            case OrderStatus.Confirmed:
                return "Đã xác nhận. Đang vận chuyển.";
            case OrderStatus.Canceled:
                return "Đã hủy";
            default:
                return status.ToString();
        }
    }
}
<style>
    .status-new {
        color: orange;
    }

    .status-confirmed {
        color: green;
    }

    .status-canceled {
        color: red;
    }

    .status-unknown {
        color: gray;
    }
</style>